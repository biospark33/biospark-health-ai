(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{14106:function(e,s,t){Promise.resolve().then(t.bind(t,28733))},28733:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return I}});var a=t(57437),r=t(2265),i=t(94508);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter";var x=t(77712);let m=(0,x.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,i.cn)(m({variant:s}),e),...t})}var f=t(37053);let h=(0,x.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...n},l)=>{let c=r?f.g7:"button";return(0,a.jsx)(c,{className:(0,i.cn)(h({variant:s,size:t,className:e})),ref:l,...n})});j.displayName="Button";var p=t(70060);let g=p.fC,v=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));v.displayName=p.aV.displayName;let y=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));y.displayName=p.xz.displayName;let N=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));N.displayName=p.VY.displayName;let b=(0,x.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w=r.forwardRef(({className:e,variant:s,...t},r)=>(0,a.jsx)("div",{ref:r,role:"alert",className:(0,i.cn)(b({variant:s}),e),...t}));w.displayName="Alert";let R=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));R.displayName="AlertTitle";let C=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...s}));C.displayName="AlertDescription";var k=t(41671),S=t(76865),Z=t(99388),A=t(88906),D=t(82431),L=t(92735),_=t(48736),O=t(42208),E=t(66337),T=t(95805),V=t(70525);function I(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[f,h]=(0,r.useState)([]),[p,b]=(0,r.useState)(!0),[I,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{U()},[]);let U=async()=>{try{b(!0);let e=await fetch("/api/compliance/metrics?type=current"),t=await e.json();t.success&&s(t.data);let a=await fetch("/api/compliance/audit-logs?limit=20"),r=await a.json();r.success&&i(r.data.logs);let n=await fetch("/api/compliance/metrics?type=alerts"),l=await n.json();l.success&&m(l.data);let c=await fetch("/api/compliance/metrics?type=trends&days=7"),d=await c.json();d.success&&h(d.data)}catch(e){console.error("Failed to load compliance data:",e)}finally{b(!1)}},z=async()=>{P(!0),await U(),P(!1)},H=async()=>{try{let e=await fetch("/api/compliance/audit-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exportType:"compliance_report",format:"json",filters:{startDate:new Date(Date.now()-2592e6).toISOString(),endDate:new Date().toISOString()}})});if(e.ok){let s=await e.blob(),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`compliance_report_${Date.now()}.json`,a.click(),window.URL.revokeObjectURL(t)}}catch(e){console.error("Failed to export compliance report:",e)}},F=e=>{switch(e){case"compliant":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"violation":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e=>{switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-blue-100 text-blue-800";case"high":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return p?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(D.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{children:"Loading compliance dashboard..."})]})}):(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"h-8 w-8"}),"HIPAA Compliance Dashboard"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Real-time monitoring of HIPAA compliance metrics and audit trails"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(j,{onClick:z,disabled:I,variant:"outline",children:[(0,a.jsx)(D.Z,{className:`h-4 w-4 mr-2 ${I?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(j,{onClick:H,children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),x.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:x.slice(0,3).map(e=>(0,a.jsxs)(w,{className:"critical"===e.type?"border-red-500":"border-yellow-500",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),(0,a.jsx)(R,{children:e.title}),(0,a.jsx)(C,{children:e.message})]},e.id))}),e&&(0,a.jsxs)(n,{children:[(0,a.jsxs)(l,{children:[(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(e=>{switch(e){case"compliant":return(0,a.jsx)(k.Z,{className:"h-5 w-5 text-green-500"});case"warning":return(0,a.jsx)(S.Z,{className:"h-5 w-5 text-yellow-500"});case"violation":return(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-500"});default:return(0,a.jsx)(A.Z,{className:"h-5 w-5 text-gray-500"})}})(e.status),"Overall Compliance Status"]}),(0,a.jsxs)(d,{children:["Last updated: ",new Date(e.lastUpdated).toLocaleString()]})]}),(0,a.jsx)(o,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[e.overallScore,"%"]}),(0,a.jsx)(u,{className:F(e.status),children:e.status.toUpperCase()})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Audit Coverage"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.auditCoverage,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Encryption Rate"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.encryptionRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Consent Rate"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.consentRate,"%"]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Data Retention"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.dataRetentionCompliance,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Access Control"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.accessControlCompliance,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Security Incidents"}),(0,a.jsx)("span",{className:"font-semibold text-red-600",children:e.incidentCount})]})]})]})})]}),(0,a.jsxs)(g,{defaultValue:"audit-logs",className:"space-y-4",children:[(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{value:"audit-logs",children:"Audit Logs"}),(0,a.jsx)(y,{value:"metrics",children:"Detailed Metrics"}),(0,a.jsx)(y,{value:"trends",children:"Trends"}),(0,a.jsx)(y,{value:"alerts",children:"Alerts"})]}),(0,a.jsx)(N,{value:"audit-logs",children:(0,a.jsxs)(n,{children:[(0,a.jsxs)(l,{children:[(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5"}),"Recent Audit Logs"]}),(0,a.jsx)(d,{children:"Latest system access and data operations"})]}),(0,a.jsx)(o,{children:(0,a.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u,{className:M(e.riskLevel),children:e.riskLevel}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.eventType," - ",e.resource]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.action," by ",e.userId||"anonymous"," from ",e.ipAddress]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm",children:new Date(e.timestamp).toLocaleString()}),!e.success&&(0,a.jsx)("div",{className:"text-xs text-red-600",children:e.errorMessage})]})]},e.id))})})]})}),(0,a.jsx)(N,{value:"metrics",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(n,{children:[(0,a.jsx)(l,{children:(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(O.Z,{className:"h-5 w-5"}),"Audit Coverage"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[e?.auditCoverage,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Percentage of operations with audit trails"})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(l,{children:(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"h-5 w-5"}),"Encryption Rate"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[e?.encryptionRate,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Percentage of PHI data encrypted"})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(l,{children:(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5"}),"Consent Rate"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[e?.consentRate,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Users with valid consent records"})]})]})]})}),(0,a.jsx)(N,{value:"trends",children:(0,a.jsxs)(n,{children:[(0,a.jsxs)(l,{children:[(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(V.Z,{className:"h-5 w-5"}),"Compliance Trends"]}),(0,a.jsx)(d,{children:"7-day compliance score history"})]}),(0,a.jsx)(o,{children:(0,a.jsx)("div",{className:"space-y-4",children:f.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"font-medium",children:e.date}),(0,a.jsx)(u,{className:F(e.status),children:e.status})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold",children:[e.overallScore,"%"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.incidentCount," incidents"]})]})]},s))})})]})}),(0,a.jsx)(N,{value:"alerts",children:(0,a.jsxs)(n,{children:[(0,a.jsxs)(l,{children:[(0,a.jsxs)(c,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"h-5 w-5"}),"Security Alerts"]}),(0,a.jsx)(d,{children:"Recent security events and compliance violations"})]}),(0,a.jsx)(o,{children:(0,a.jsx)("div",{className:"space-y-3",children:0===x.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(k.Z,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,a.jsx)("p",{children:"No active alerts. System is operating normally."})]}):x.map(e=>(0,a.jsxs)(w,{className:"critical"===e.type?"border-red-500":"border-yellow-500",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),(0,a.jsxs)(R,{className:"flex items-center justify-between",children:[e.title,(0,a.jsx)(u,{variant:"critical"===e.type?"destructive":"secondary",children:e.type})]}),(0,a.jsxs)(C,{children:[(0,a.jsx)("div",{children:e.message}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]})]},e.id))})})]})})]})]})}},94508:function(e,s,t){"use strict";t.d(s,{cn:function(){return i}});var a=t(61994),r=t(53335);function i(...e){return(0,r.m6)((0,a.W)(e))}}},function(e){e.O(0,[255,324,971,117,744],function(){return e(e.s=14106)}),_N_E=e.O()}]);