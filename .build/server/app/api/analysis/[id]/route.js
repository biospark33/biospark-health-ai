"use strict";(()=>{var e={};e.id=571,e.ids=[571],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},72815:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m});var i={};t.r(i),t.d(i,{GET:()=>c,dynamic:()=>u});var a=t(49303),n=t(88716),s=t(60670),o=t(87070),l=t(9487);let u="force-dynamic";async function c(e,{params:r}){try{let{id:e}=r;if(!e)return o.NextResponse.json({error:"Analysis ID is required"},{status:400});let t=await l._.analysis.findUnique({where:{id:e},include:{user:{select:{id:!0,email:!0,name:!0}}}});if(!t)return o.NextResponse.json({error:"Analysis not found"},{status:404});let i={id:t.id,metabolicScore:t.metabolicScore,thyroidScore:t.thyroidScore,metabolicHealth:t.metabolicHealth,inflammation:t.inflammation,nutrients:t.nutrients,biomarkers:t.biomarkers,patterns:t.patterns,criticalFindings:t.criticalFindings,recommendations:t.recommendations,aiInsights:t.recommendations?.aiInsights||null,analysisType:t.analysisType,createdAt:t.createdAt.toISOString(),email:t.email,initials:t.initials,age:t.age,city:t.city,user:t.user};return o.NextResponse.json(i)}catch(e){return console.error("Error fetching analysis:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/analysis/[id]/route",pathname:"/api/analysis/[id]",filename:"route",bundlePath:"app/api/analysis/[id]/route"},resolvedPagePath:"/home/ubuntu/labinsight-ai-complete/app/api/analysis/[id]/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:y}=d,h="/api/analysis/[id]/route";function g(){return(0,s.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},9487:(e,r,t)=>{t.d(r,{_:()=>a});var i=t(53524);let a=globalThis.prisma??new i.PrismaClient({log:["query","info","warn","error"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[276,972],()=>t(72815));module.exports=i})();